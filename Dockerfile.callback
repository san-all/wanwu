# 基于已构建的基础镜像
FROM wanwulite/callback-base:v0.3.0

# 工作目录
WORKDIR /callback

# 复制 callback 代码
COPY ./callback .

EXPOSE 8669

# 使用 gunicorn 启动 Flask（加载 run.py 中的 app）
CMD ["gunicorn", "-w", "8", "-b", "0.0.0.0:8669", "run:app"]