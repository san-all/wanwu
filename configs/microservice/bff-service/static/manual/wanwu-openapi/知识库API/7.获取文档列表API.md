获取文档列表API
======

## 知识库获取文档列表API
知识库获取文档列表支持查看导入文档的文件名称、文件类型、分段模式、作者、上传时间、当前状态等文档相关的信息。


### 请求接口

----

| Type     | Instructions                                                 |
| -------- | ------------------------------------------------------------ |
| 方法     | Http                                                         |
| 请求URL  | 按照应用实际API根地址，例如：<br />`http://localhost:8081/service/api/openapi/v1/knowledge/doc/list` |
| 调用方式 | 同步调用                                                      |
| 字符编码 | UTF-8                                                        |
| 请求类型 | POST                                                         |
| 鉴权方式 | `Authorization: Bearer {API Key}` |
| 请求格式 | `Content-Type: application/json`                             |
| 响应格式 | `Content-Type: application/json`                             |

### 请求参数

----

| Parameter    | Required  | Type   | Instructions                     |
|---------------|----| ------ |--------|
| knowledgeId | 是  | string | 知识库Id  |
| docName     | 否  | string | 文件名称查询参数  |
| status      | 否  | int array | 当前状态  -1-全部， 0-待处理， 1- 处理完成， 2-正在审核中，3-正在解析中，4-审核未通过，5-解析失败、  |
| metaValue   | 否  | string | 元数据值  |
| graphStatus | 否  | int array | 图谱状态：-1.全部 0.待处理 1.解析中 2.解析成功 3.解析失败  |
| pageSize    | 否  | int |  分页大小 |
| pageNo      | 否  | int | 分页序号  |



### 响应参数

----

| Parameter          | Type         | Instructions   |
|--------------------| ------------ |--------------|
| code               | int          | 状态码        |
| data               | object array | 返回数据   |
| msg                | string       | 返回信息       |


#### data中详细字段

| Parameter             | Type         | Instructions   |
|--------------------   |--------------| ---------- |
| list                  | object array | 文档详细信息       |
| docKnowledgeInfo      | object       | 知识库信息   |
| total                 | int64        | 总数       |
| pageNo                | int          | 分页序号  |
| pageSize              | int          | 分页大小 |
| fileName              | string       | 文件名称   |
| originalFileName      | string       | 文件原始名称 |
| fileType              | string       | 文件类型   |
| objectName            | string       | 文档存储路径 |
| status                | int          | 文档状态   |
| createdMilli          | string       | 创建时间   |
| updatedMilli          | string       | 更新时间   |
| errorMsg              | string       | 错误信息   |
| fileSize              | int64        | 文件大小   |

#### list中详细字段

| Parameter             | Type         | Instructions   |
|--------------------   |--------------| ---------- |
| docId                 | string       | 文档id       |
| docName               | string       | 文档名称   |
| docType               | string       | 文档类型       |
| knowledgeId           | string       | 知识库id  |
| uploadTime            | strinf       | 上传时间 |
| status                | int          | 处理状态   |
| errorMsg              | string       | 解析错误信息 |
| fileSize              | string       | 文件大小   |
| segmentMethod         | string       | 分段模式 0:通用分段，1：父子分段 |
| author                | string       | 上传文档 作者  |
| graphStatus           | int          | 图谱状态 0:待处理，1.解析中，2.解析成功，3.解析失败   |
| graphErrMsg           | string       | 图谱错误信息   |


#### docKnowledgeInfo中详细字段

| Parameter           | Type       | Instructions   |
|-------------------- |------------| ---------- |
| knowledgeId         | string     | 知识库id       |
| knowledgeName       | string     | 知识库名称   |
| graphSwitch         | int        | 知识图谱开关       |
| showGraphReport     | bool       | 是否展示社区报告  |



### 请求示例

----

```shell
curl --location 'http://localhost:8081/service/api/openapi/v1/knowledge/doc/list' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer {API Key}' \
--data '{
  "pageNo": 1,
  "pageSize": 10,
  "docName": "",
  "metaValue": "",
  "knowledgeId": "1999394140458061824",
  "status": [
    -1
  ],
  "graphStatus": [
    -1
  ]
}'
```

### 响应示例

----

```json
{
  "code": 0,
  "data": {
    "list": [
      {
        "docId": "1999646202542428160",
        "docName": "__039_Massive intel failure by Mossad__039__ Hamas__039_ surprise attack on Israel shocks internet.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "5.84 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202534039552",
        "docName": "_Zoom fatigue_ is common struggle for remote workers_ Here_s how to handle it_ according to experts.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "5.67 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202525650944",
        "docName": "_We know far more about the deep ocean than the moon or Mars__ says explorer Jon Copley.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "7.70 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202517262336",
        "docName": "_We Sell More F_150s to NASCAR Fans_ _ Ford Insider Reveals Insane Mustang Stat Amid Big Change.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "5.45 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202504679424",
        "docName": "_Too big to fail_ Egypt faces economic crisis but has an anti_Gaza refugee policy_ Israel and the U_S_ hope that will change.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "7.74 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202500485120",
        "docName": "_They seemed primed to take over__ How the Great Dying doomed the _beast tooth_ and set the stage for the dawn of the dinosaurs.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "10.46 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202492096512",
        "docName": "_There are no sacred numbers_.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "7.91 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202479513600",
        "docName": "_So used to seeing us winning__ Healy denies Aussie era ending after India loss_ calls for more Tests.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "5.17 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202471124992",
        "docName": "_Right people in right roles__ QRU breaks silence on RA_s reform hopes_ backs review into Wallabies_ RWC flop.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "6.48 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      },
      {
        "docId": "1999646202462736384",
        "docName": "_Mass breach of privacy__ TikTok under fire for tracking users online.txt",
        "docType": ".txt",
        "knowledgeId": "1999394140458061824",
        "uploadTime": "2025-12-13 09:03:00",
        "status": 1,
        "errorMsg": "[i18n] lang(zh) err_code(OK) text_key() args: []",
        "fileSize": "7.86 KB",
        "segmentMethod": "0",
        "author": "admin",
        "graphStatus": 2,
        "graphErrMsg": ""
      }
    ],
    "total": 609,
    "pageNo": 1,
    "pageSize": 10,
    "docKnowledgeInfo": {
      "knowledgeId": "1999394140458061824",
      "knowledgeName": "multihoprag_3",
      "graphSwitch": 1,
      "showGraphReport": true
    }
  },
  "msg": ""
}
```
