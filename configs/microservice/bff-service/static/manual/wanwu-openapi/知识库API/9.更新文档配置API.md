更新文档配置API
======

## 更新文档配置API
更新文档配置支持对解析成功的文档重新配置分段和解析方式并进行重新解析。


### 请求接口

----

| Type     | Instructions                                                                                     |
| -------- |--------------------------------------------------------------------------------------------------|
| 方法     | Http                                                                                             |
| 请求URL  | 按照应用实际API根地址，例如：<br />`http://localhost:8081/service/api/openapi/v1/knowledge/doc/update/config` |
| 调用方式 | 异步调用                                                                                             |
| 字符编码 | UTF-8                                                                                            |
| 请求类型 | POST                                                                                             |
| 鉴权方式 | `Authorization: Bearer {API Key}`                                                                |
| 请求格式 | `Content-Type: application/json`                                                                 |
| 响应格式 | `Content-Type: application/json`                                                                 |

### 请求参数

----

| Parameter    | Required | Type   | Instructions                         |
|---------------|----------| ------ |--------------------------------------|
| knowledgeId | 是        | string | 知识库Id                                |
| docIdList    | 是        | string array    | 文档id列表                               |
| docImportType | 是        | int32 | 文档导入类型，0：文件上传，1：单条url上传，2.文件url上传    |
| docSegment   | 是        | object | 文档分段配置                               |
| docAnalyzer  | 是        | string array | 文档解析类型 text / ocr  / model           |
| parserModelId  | 否        | string | 模型解析或ocr模型uuid                       |
| docPreprocess  | 是        | string array | 文本预处理规则 replaceSymbols / deleteLinks |
| docMetaData  | 否        | obejct array | 元数据列表                                |

#### docSegment中详细字段

| Parameter    | Required  | Type   | Instructions                     |
|--------------|-----| ------ |------------------------|
| segmentMethod   | 是 | string | 分段方法 0：通用分段；1：父子分段     |
| segmentType     | 否 | string | 分段方式，只有通用分段必填 0：自动分段；1：自定义分段   |
| splitter        | 否 | string array | 分隔符（只有自定义分段必填）    |
| maxSplitter     | 否 | int | 可分隔最大值（只有自定义分段必填）   |
| overlap         | 否 | float32 | 可重叠值（只有自定义分段必填）    |
| subSplitter     | 否 | string array | 子分隔符（只有父子分段必填）    |
| subMaxSplitter  | 否 | int | 可分隔最大值（只有父子分段必填）    |

#### docMetaData中详细字段

| Parameter    | Required | Type   | Instructions                     |
|--------------|----------| ------ |------------------------|
| metaId        | 否        | string | 元数据id     |
| metaKey       | 是        | string | 元数据key   |
| metaValue     | 是        | string | 元数据值    |
| metaValueType | 是        | string | string，number，time   |
| metaRule      | 否        | string | 正则表达式    |
| option        | 是        | string | option:add(新增)、update(更新)、delete(删除),update 和delete 的时候metaId 不能为空    |



### 响应参数

----

| Parameter  | Type     | Instructions   |
|--------------------|--------------| ---------- |
| code               | int          | 状态码        |
| data               | null         | 返回数据   |
| msg                | string       | 返回信息       |



### 请求示例

----

```shell
curl --location 'http://localhost:8081/service/api/openapi/v1/knowledge/doc/update/config' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer {API Key}' \
--data '{
  "docAnalyzer": [
    "text"
  ],
  "docMetaData": [],
  "docPreprocess": [
    "replaceSymbols"
  ],
  "docSegment": {
    "segmentType": "0",
    "segmentMethod": "0",
    "subMaxSplitter": 200,
    "subSplitter": [
      "\n"
    ]
  },
  "docInfoList": [],
  "docImportType": 0,
  "knowledgeId": "2005451236198846464",
  "parserModelId": "",
  "docIdList": [
    "2005527315282399232"
  ]
}'
```

### 响应示例

----

```json
{
  "code": 0,
  "data": null,
  "msg": ""
}
```
