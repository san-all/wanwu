# 新建知识库OpenAPI
创建新的知识库，支持配置嵌入模型、知识图谱等参数。


## 接口信息

| 项目 | 说明 |
|------|------|
| **请求方法** | POST |
| **请求URL** | 按照应用实际API根地址，例如：<br />`http://localhost:8081/service/api/openapi/v1/knowledge` |
| **字符编码** | UTF-8 |
| **请求格式** | `Content-Type: application/json` |
| **响应格式** | `Content-Type: application/json` |
| 鉴权方式(header参数) | `Authorization: Bearer {API Key}`                        |


## 请求参数（JSON Body）

| 参数名 | 类型 | 必填 | 说明 |
|--------|------|------|------|
| `name` | String | **是** | 知识库名称 |
| `description` | String | 否 | 知识库描述 |
| `embeddingModelInfo` | [EmbeddingModel](#embeddingmodel-对象) | **是** | 嵌入模型信息 |
| `knowledgeGraph` | [KnowledgeGraph](#knowledgegraph-对象) | 否 | 知识图谱配置 |
| `category` | Integer | 否 | 知识库类型：<br>• `0` - 知识库<br>• `1` - 问答库 |


## 对象结构说明

### EmbeddingModel 对象
| 字段名 | 类型 | 必填 | 说明       |
|--------|------|------|----------|
| `modelId` | String | **是** | 嵌入模型UUID |

### KnowledgeGraph 对象
| 字段名 | 类型 | 必填 | 说明                          |
|--------|------|------|-----------------------------|
| `switch` | Boolean | 否 | 知识图谱开关                      |
| `llmModelId` | String | 条件必填 | 大模型UUID（当`switch=true`时为必填） |
| `schemaUrl` | String | 否 | 模型schema文件地址（可为空）           |


## 响应参数

| 状态码 | 说明 | 响应体结构 |
|--------|------|------------|
| 200 | 成功 | [Response](#response-对象) |

### Response 对象
| 字段名 | 类型 | 说明 |
|--------|------|------|
| `code` | Integer | 状态码（0表示成功） |
| `msg` | String | 提示信息 |
| `data` | object | 响应数据 |

### data
| 字段名 | 类型 | 说明 |
|--------|------|------|
| `knowledgeId` | String | 新建的知识库ID |


## 请求示例

```shell
curl --location 'http://localhost:8081/service/api/openapi/v1/knowledge' \
--header 'Content-Type: application/json' \
--header 'Authorization: Bearer {API Key}' \
--data '{
  "name": "产品说明书知识库",
  "description": "存储各产品的详细说明书内容",
  "embeddingModelInfo": {
    "modelId": "2004027523746238480"
  },
  "knowledgeGraph": {
    "switch": true,
    "llmModelId": "2004027523746238464",
    "schemaUrl": "https://example.com/schemas/product_schema.json"
  },
  "category": 0
}'
```

## 响应示例

```json
{
  "code": 0,
  "data": {
    "knowledgeId": "2003729698747584512"
  },
  "msg": ""
}
```