上传文档API
==========

## 知识库上传文档API

知识库上传文档支持单独或者批量上传以下格式的文档：pdf/docx/pptx/doc/wps/ofd文件最大为200MB，xlsx/xls/csv/txt/html/md/文件最大为20MB。zip/tar.gz格式内的文档需符合各自文件格式上传大小限制等。


### 请求接口
----

| Type     | Instructions                                                 |
| -------- | ------------------------------------------------------------ |
| 方法     | Http                                                         |
| 请求URL  | 按照应用实际API根地址，例如：<br />`http://localhost:8081/service/api/openapi/v1/file/upload/direct` |
| 调用方式 | 同步调用
| 字符编码 | UTF-8                                                        |
| 请求类型 | POST                                                         |
| 鉴权方式(header参数) | `Authorization: Bearer {API Key}`                 |
| 请求格式 | `Content-Type: multipart/form-data;boundary=XX`              |
| 响应格式 | `Content-Type: application/json`                             |

### 请求参数

----

| Parameter    | Required  | Type   | Instructions                     |
|--------------|---------- | ------ |------------------------|
| files        | 是        | File   | 文件列表                |
| isExpired    | 否，二选一 | Text   | 文件是否过期 0:过期，1:不过期，默认过期 |


### 响应参数

----

| Parameter  | Type     | Instructions   |
| ---- | ------ | ---- |
| code | int    | 状态码  |
| data | object | 上传文件信息 |
| msg  | string | 返回信息 |


#### files中详细字段

| Parameter | Type   | Instructions   |
| --------- | ------ | ---- |
| fileName  | string | 原始文件名称   |
| fileId    | string | 上传文件名称   |
| filePath  | string | 上传文件完整路径 |
| fileSize  | string | 文件大小   |



### 调用示例

----

```shell
curl --location 'http://localhost:8081/service/api/openapi/v1/file/upload/direct' \
--header 'Authorization: Bearer {API Key}' \
--form 'files=@/home/1.txt' \
--form 'files=@/home/2.txt' \
--form 'files=@/home/3.txt' \
--form 'isExpired="0"'
```

### 响应示例

----------

```json
{
    "code": 0,
    "data": {
        "files": [
            {
                "fileName": "1.txt",
                "fileId": "59bfaef5-8609-48ad-a69d-305fcd221e93.txt",
                "filePath": "http://minio-wanwu:9000/file-upload/file-expire/59bfaef5-8609-48ad-a69d-305fcd221e93.txt",
                "fileSize": 1
            },
            {
                "fileName": "2.txt",
                "fileId": "84a5063f-8b8e-4a75-b281-57f398ee8e2c.txt",
                "filePath": "http://minio-wanwu:9000/file-upload/file-expire/84a5063f-8b8e-4a75-b281-57f398ee8e2c.txt",
                "fileSize": 1
            },
            {
                "fileName": "3.txt",
                "fileId": "a5f0f99b-9e00-4655-b4ce-5744b10cc3b7.txt",
                "filePath": "http://minio-wanwu:9000/file-upload/file-expire/a5f0f99b-9e00-4655-b4ce-5744b10cc3b7.txt",
                "fileSize": 1
            }
        ]
    },
    "msg": ""
}
```
