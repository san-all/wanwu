 

# 元景万悟UniAI-GraphRAG使用说明书

元景万悟智能体开发平台开源了UniAI-GraphRAG，这是一款全新的图检索增强生成框架，UniAI-GraphRAG 突破传统RAG的局限能更准确理解复杂问题，尤其擅长处理需跨文档推理、全局归纳或多跳关联的查询，显著提升问答的完整性、逻辑性与可信度。

 

## UniAI-GraphRAG在万悟平台场景实操及效果展示：

下面让我们按步骤step-by-step操作体验万悟知识图谱功能：

**样例数据下载：** https://pan.baidu.com/s/5xbmxRupm_lWPKFeR4DfEBQ 

**【步骤1】**

新建知识库，开启【知识图谱】选项，并从模型中选择用于实体关系抽取模型，下载图谱schema模板：![image-20251128110413125](assets/image-20251128110413125.png) 

 

**基于图谱Schema的领域知识建模:**

知识图谱schema是一种知识结构描述规范，是知识图谱数据生产所必需的一套规范。这套规范可用于描述、规范化知识表示的本体结构。知识图谱构建首先要对业务进行分析建模，也就是先定义好“类”、“类的属性”及“类与类之间的关系”。

下面以博物馆收藏的文物语料为例，介绍一下类目和属性关系的定义方式：

其中湖南博物馆在下面多篇文档中均有提到相关文物收藏情况：

 

| 文档A按文物分类介绍文物                                      | 文档B介绍湖南博物馆文物                                      | 文档C介绍省博物馆重要馆藏                                    |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------------------------------------------------ |
| ![image-20251128110444321](assets/image-20251128110444321.png) | ![image-20251128110512232](assets/image-20251128110512232.png) | ![image-20251128110535214](assets/image-20251128110535214.png) |

首先我们在schema模板中的【类目表】中定义知识图谱中的实体类目：

![image-20251128110559383](assets/image-20251128110559383.png) 

其次在【类目属性表】定义每个类名对应的属性及关系，当值类型为另外一个类名时表示此属性为关系，否则为属性。例如下表中文物的【收藏于】的值类型为【省博物馆】表示为文物指向省博物馆的边关系；文物名称/出土时间值类型为非实体类型时表示属性。

![image-20251128111007417](assets/image-20251128111007417.png) 



**【步骤2】**

按模板定义完图谱schema后，上传图谱schema文件后完成知识库创建初始化

![image-20251128111039520](assets/image-20251128111039520.png) 

**【步骤3】**

向知识库中导入各省博物馆收藏的文物文档：

 ![image-20251121172340577](assets/image-20251121172340577.png)

文件上传时设置分段方式和解析方式后，点击【确定】执行导入操作：

 ![image-20251121172410891](assets/image-20251121172410891.png)

在文档解析状态处理完成后，图谱解析状态会由“待处理”->“解析中”->“解析成功”

![image-20251121172442582](assets/image-20251121172442582.png)

当解析成功后，在上方按钮区域会出现【知识图谱】和【社区报告】按钮

![image-20251128111343821](assets/image-20251128111343821.png)

当所有文件的图谱解析状态均为解析成功时，可以点击【知识图谱】按钮查看图谱效果：

![image-20251128111406803](assets/image-20251128111406803.png) 

 

**【步骤4】**

触发社区报告生成：当所有文件都导入解析成功后，在知识图谱构建完成后，点击【社区报告】按钮进入社区报告管理界面：

![image-20251128111446714](assets/image-20251128111446714.png) 

点击【生成】触发此知识库的社区报告构建，点击【刷新数据】可查看状态

 ![image-20251121172813133](assets/image-20251121172813133.png)

社区报告生成后会看到每个社区报告的主题及内容：

![image-20251128111515691](assets/image-20251128111515691.png) 

**社区报告示例：**按“湖南博物馆”实体聚类生成社区报告，可以看到此实体的属性及关系已全部归纳至报告中。通过此方式可以实现跨chunk或文件的实体属性及关系的有机整合 

![image-20251128111759465](assets/image-20251128111759465.png) 

**社区报告示例：**按“文物年代”属性聚类生成社区报告，可以看到报告中将各省博物馆中收藏的文物按“战国时期”（文物年代）进行了重新组织和归纳。通过此类知识的增强可以让知识库具备全局性总结性问题的回答能力。

![image-20251128112022158](assets/image-20251128112022158.png) 

**【多跳关系聚类生成社区】社区报告示例：**

![image-20251128112118823](assets/image-20251128112118823.png) 

可以看到报告主题归纳了“山西博物馆”与相关文物的关系，并在报告内容中对每个文物实体属性及关系进行了描述，涵盖了围绕“山西博物馆”为核心的相关文物子图所有信息。通过此类知识的增强可以让知识库具备多跳关系类问题的回答能力。

 

**【步骤5】**

在知识库命中测试中开启【知识图谱】，可根据问题召回【知识图谱】类型的分段，如下图所示：

 ![image-20251128112253251](assets/image-20251128112253251.png)

 

点击【分段】标题部分可以展示整个实体属性关系的描述信息，示例如下：

![image-20251128112313587](assets/image-20251128112313587.png) 

 

同样在知识库命中测试中开启【知识图谱】，可根据问题召回【社区报告】类型的分段，如下图所示：

![image-20251128112253251](assets/image-20251128112253251.png) 

点击【分段】标题部分可以展示社区报告主题及摘要的描述信息，示例如下：

![image-20251128112428808](assets/image-20251128112428808.png) 

 

**【步骤6】**

创建文本问答知识库，填写信息后点击确定

 ![image-20251128112527398](assets/image-20251128112527398.png)



**【步骤7】**

选择基础模型、关联知识库，点击“配置”，完成检索方式配置，并将【知识图谱】开关打开，开启图谱增强检索模式后，在右侧的问答会话窗口中验证问答时可以额外召回知识图谱中的实体属性关系及社区报告，如下图所示：

 ![image-20251128112622376](assets/image-20251128112622376.png)

![image-20251128112724725](assets/image-20251128112724725.png)

![image-20251128115125554](assets/image-20251128115125554.png)



## 社区报告增强问答效果的三类典型场景

#### 1.按实体聚类模式社区的问答增强效果

| 湖南博物馆文物涉及多个文档                                   | 问答效果对比                                                 |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 文档A中对湖南博物馆文物内容介绍![image-20251128114559152](assets/image-20251128114559152.png) | 原始效果：文物归纳的不完整![image-20251128120133205](assets/image-20251128120133205.png) |
| 文档B中对湖南博物馆文物内容介绍![image-20251128114527785](assets/image-20251128114527785.png) | 图谱增强后的效果：文物归纳完整![image-20251128115141339](assets/image-20251128115141339.png) |

 

#### **2.** 属性聚类社区的增强效果

![image-20251128113922785](assets/image-20251128113922785.png) 



#### **3.** 多跳关系聚类社区的增强效果

![image-20251128113954320](assets/image-20251128113954320.png)

 

**UniAI-GraphRAG** 已在**元景万悟智能体开发平台**完成源码开源，标志着万悟智能体平台在知识可信、可解释、可追溯的企业级智能知识系统建设上迈出关键一步。我们诚邀开发者、行业专家与合作伙伴共同参与，推动 GraphRAG 技术在金融、政务、制造、能源等领域的深度应用，让企业知识真正“活起来、连起来、用起来”。



**一切精彩尽在元景万悟智能体开发平台，快来体验吧！**

Github项目：https://github.com/UnicomAI/wanwu

 

 